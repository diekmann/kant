<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Steuern</title>
</head>


<body>
<div class="head">
<h1>Theory Steuern</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Steuern</span><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../../HOL/HOL/Main.html"><span>Main</span></a><span> </span><a href="../../HOL/HOL/Real.html"><span>HOL.Real</span></a><span> </span><a href="Percentage.html"><span>Percentage</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Experiment: Steuergesetzgebung</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Basierend auf einer stark vereinfachten Version des deutschen Steuerrechts.
</span><span>Wenn ich Wikipedia richtig verstanden habe, habe ich sogar aus Versehen einen Teil des 
</span><span>österreichischen Steuersystem gebaut mit deutschen Konstanten.</span><span>›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>locale</span></span></span><span> </span><span class="entity_def" id="Steuern.steuer_defs|locale"><span>steuer_defs</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>steuer</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>nat</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="comment1"><span>―‹</span><span>Einkommen -&gt; Steuer</span><span>›</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.steuer_defs.brutto_def|fact"><span class="entity_def" id="Steuern.steuer_defs.brutto_def|thm"><span class="entity_def" id="Steuern.steuer_defs.brutto_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Steuern.steuer_defs.brutto|const"><span>brutto</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>nat</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>brutto</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>einkommen</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>einkommen</span></span></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.steuer_defs.netto_def|fact"><span class="entity_def" id="Steuern.steuer_defs.netto_def|thm"><span class="entity_def" id="Steuern.steuer_defs.netto_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Steuern.steuer_defs.netto.cong|fact"><span class="entity_def" id="Steuern.steuer_defs.netto.cong|thm"><span class="entity_def" id="Steuern.steuer_defs.netto|const"><span class="entity_def" id="offset_501..506">netto</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>nat</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>netto</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>einkommen</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>einkommen</span></span></span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>steuer</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>einkommen</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

  </span><span class="comment1"><span>(</span><span>*</span><span>definition steuersatz</span><span>*</span><span>)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.steuersystem.intro|fact"><span class="entity_def" id="Steuern.steuersystem_def|fact"><span class="entity_def" id="Steuern.steuersystem.intro|thm"><span class="entity_def" id="Steuern.steuersystem_def|thm"><span class="entity_def" id="Steuern.steuersystem_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Steuern.steuersystem|locale"><span class="entity_def" id="Steuern.steuersystem|const"><span>steuersystem</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuer_defs|locale"><span>steuer_defs</span></a><span> </span><span class="main"><span>+</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Steuern.steuersystem.wer_hat_der_gibt|fact"><span class="entity_def" id="Steuern.steuersystem.wer_hat_der_gibt|thm"><span>wer_hat_der_gibt</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>einkommen_a</span></span><span> </span><span class="main"><span>≥</span></span><span> </span><span class="free"><span>einkommen_b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>steuer</span></span><span> </span><span class="free"><span>einkommen_a</span></span><span> </span><span class="main"><span>≥</span></span><span> </span><span class="free"><span>steuer</span></span><span> </span><span class="free"><span>einkommen_b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Steuern.steuersystem.leistung_lohnt_sich|fact"><span class="entity_def" id="Steuern.steuersystem.leistung_lohnt_sich|thm"><span>leistung_lohnt_sich</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>einkommen_a</span></span><span> </span><span class="main"><span>≥</span></span><span> </span><span class="free"><span>einkommen_b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_501..506"><span>netto</span></a><span> </span><span class="free"><span>einkommen_a</span></span><span> </span><span class="main"><span>≥</span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_501..506"><span>netto</span></a><span> </span><span class="free"><span>einkommen_b</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

  </span><span class="comment1"><span>(</span><span>*</span><span>TODO: mehr einkommen ⇒ hoeherer Steuersatz</span><span>*</span><span>)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.zonensteuer.elims|fact"><span class="entity_def" id="Steuern.zonensteuer.induct|fact"><span class="entity_def" id="Steuern.zonensteuer.simps|fact"><span class="entity_def" id="Steuern.zonensteuer.pelims|fact"><span class="entity_def" id="Steuern.zonensteuer.cases|fact"><span class="entity_def" id="Steuern.zonensteuer.termination|fact"><span class="entity_def" id="Steuern.zonensteuer.pinduct|fact"><span class="entity_def" id="Steuern.zonensteuer.psimps|fact"><span class="entity_def" id="Steuern.zonensteuer_rel.inducts|fact"><span class="entity_def" id="Steuern.zonensteuer_rel.simps|fact"><span class="entity_def" id="Steuern.zonensteuer_rel.induct|fact"><span class="entity_def" id="Steuern.zonensteuer_rel.cases|fact"><span class="entity_def" id="Steuern.zonensteuer_rel.intros|fact"><span class="entity_def" id="Steuern.zonensteuer_graph.inducts|fact"><span class="entity_def" id="Steuern.zonensteuer_graph.simps|fact"><span class="entity_def" id="Steuern.zonensteuer_graph.induct|fact"><span class="entity_def" id="Steuern.zonensteuer_graph.cases|fact"><span class="entity_def" id="Steuern.zonensteuer_graph.intros|fact"><span class="entity_def" id="Steuern.zonensteuer.elims|thm"><span class="entity_def" id="Steuern.zonensteuer.induct|thm"><span class="entity_def" id="Steuern.zonensteuer.simps(2)|thm"><span class="entity_def" id="Steuern.zonensteuer.simps(1)|thm"><span class="entity_def" id="Steuern.zonensteuer.pelims|thm"><span class="entity_def" id="Steuern.zonensteuer.cases|thm"><span class="entity_def" id="Steuern.zonensteuer.termination|thm"><span class="entity_def" id="Steuern.zonensteuer.pinduct|thm"><span class="entity_def" id="Steuern.zonensteuer.psimps(2)|thm"><span class="entity_def" id="Steuern.zonensteuer.psimps(1)|thm"><span class="entity_def" id="Steuern.zonensteuer_rel.inducts|thm"><span class="entity_def" id="Steuern.zonensteuer_rel.simps|thm"><span class="entity_def" id="Steuern.zonensteuer_rel.induct|thm"><span class="entity_def" id="Steuern.zonensteuer_rel.cases|thm"><span class="entity_def" id="Steuern.zonensteuer_rel.intros|thm"><span class="entity_def" id="Steuern.zonensteuer_graph.inducts|thm"><span class="entity_def" id="Steuern.zonensteuer_graph.simps|thm"><span class="entity_def" id="Steuern.zonensteuer_graph.induct|thm"><span class="entity_def" id="Steuern.zonensteuer_graph.cases|thm"><span class="entity_def" id="Steuern.zonensteuer_graph.intros(2)|thm"><span class="entity_def" id="Steuern.zonensteuer_graph.intros(1)|thm"><span class="entity_def" id="Steuern.zonensteuer_def|axiom"><span class="entity_def" id="Steuern.zonensteuer_rel_def|axiom"><span class="entity_def" id="Steuern.zonensteuer_sumC_def|axiom"><span class="entity_def" id="Steuern.zonensteuer_graph_def|axiom"><span class="entity_def" id="Steuern.zonensteuer_dom|const"><span class="entity_def" id="Steuern.zonensteuer_rel|const"><span class="entity_def" id="Steuern.zonensteuer_sumC|const"><span class="entity_def" id="Steuern.zonensteuer_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Steuern.zonensteuer|const"><span>zonensteuer</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>×</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|type"><span>percentage</span></a><span class="main"><span>)</span></span><span> </span><span>list</span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|type"><span>percentage</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>real</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
   </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>zonensteuer</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>zone</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>prozent</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>#</span></span><span class="free"><span class="bound"><span class="entity"><span>zonen</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spitzensteuer</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="main"><span>=</span></span><span>
        </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>min</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>zone</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>prozent</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>zonensteuer</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>zonen</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spitzensteuer</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>zone</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>zonensteuer</span></span><span> </span><span class="main"><span>[]</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spitzensteuer</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span class="main"><span>*</span></span><span class="free"><span class="bound"><span class="entity"><span>spitzensteuer</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.zonensteuermono|fact"><span class="entity_def" id="Steuern.zonensteuermono|thm"><span>zonensteuermono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>e1</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="free"><span>e2</span></span><span>
  </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="free"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="free"><span>e1</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="free"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="free"><span>e2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>zs</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>e1</span></span></span><span> </span><span class="quoted"><span class="free"><span>e2</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>mult_right_mono</span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage_range|fact"><span>percentage_range</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>rename_tac</span></span><span> z zs e1 e2</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>case_tac</span></span><span> </span><span class="quoted"><span class="improper"><span>z</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rename_tac</span></span><span> zone prozent</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>Groups.add_mono_thms_linordered_semiring</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>conjI</span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>defer</span></span></span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>mult_right_mono</span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage_range|fact"><span>percentage_range</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Kein Einkommen -&gt; keine Steuer</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.zonensteuer_zero|fact"><span class="entity_def" id="Steuern.zonensteuer_zero|thm"><span>zonensteuer_zero</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ls</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Steuer ist immer positiv.</span><span>›</span></span></span><span>
  </span><span class="comment1"><span>(</span><span>*</span><span>Da das Einkommen ein nat ist, ist das Einkommen hier auch immer positiv.
    Eventuell will ich aber mal das Einkommen auf int aendern,
    dann muss das folgende Lemma aber immernoch gelten!</span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.zonensteuer_pos|fact"><span class="entity_def" id="Steuern.zonensteuer_pos|thm"><span>zonensteuer_pos</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>e</span></span><span> </span><span class="main"><span>≥</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ls</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage_range|fact"><span>percentage_range</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>zero_le</span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer_zero|fact"><span>zonensteuer_zero</span></a><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuermono|fact"><span>zonensteuermono</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Steuer kann nicht höher sein als das Einkommen.</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.zonensteuer_limit|fact"><span class="entity_def" id="Steuern.zonensteuer_limit|thm"><span>zonensteuer_limit</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="free"><span>einkommen</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="free"><span>einkommen</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ls</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>einkommen</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.real_of_percentage_mult|fact"><span>real_of_percentage_mult</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>rename_tac</span></span><span> z zs einkommen</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>case_tac</span></span><span> </span><span class="quoted"><span class="improper"><span>z</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rename_tac</span></span><span> zone prozent</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_SIG</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>diff_is_0_eq</span><span> </span><span>nle_le</span><span> </span><span>of_nat_diff</span><span>
      </span><a class="entity_ref" href="Percentage.html#Percentage.real_of_percentage_mult|fact"><span>real_of_percentage_mult</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer_zero|fact"><span>zonensteuer_zero</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.zonensteuer_leistung_lohnt_sich|fact"><span class="entity_def" id="Steuern.zonensteuer_leistung_lohnt_sich|thm"><span>zonensteuer_leistung_lohnt_sich</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>e1</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="free"><span>e2</span></span><span>
  </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>e1</span></span><span> </span><span class="main"><span>-</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="free"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="free"><span>e1</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="free"><span>e2</span></span><span> </span><span class="main"><span>-</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="free"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="free"><span>e2</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>zs</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>e1</span></span></span><span> </span><span class="quoted"><span class="free"><span>e2</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Nil</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.real_of_percentage_range|fact"><span>real_of_percentage_range</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span>
      </span><span>diff_ge_0_iff_ge</span><span> </span><span>mult.right_neutral</span><span> </span><span>mult_right_mono</span><span>
      </span><span>of_nat_le_iff</span><span> </span><span>right_diff_distrib'</span><span class="main"><span>)</span></span><span> 
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_2927..2931">Cons</span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="skolem"><span>zs</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>zone</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>prozent</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2966..2967">z</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>zone</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>prozent</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>z</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>zone</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>zone</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_2927..2931"><span>Cons.prems</span></a><span> </span><span>diff_le_mono</span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3064..3066">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_2927..2931"><span>Cons.IH</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_3064..3066"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>IH</span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span>real</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>-</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="skolem"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>≤</span></span><span> </span><span>real</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>-</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="skolem"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span>THIS?</span><span>*</span><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_3260..3263">IH'</span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>-</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="skolem"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>≤</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>-</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="skolem"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_2927..2931"><span>Cons.prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>linarith</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_2927..2931"><span>Cons.prems</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span>min</span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>*</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage.real_of_percentage|const"><span>real_of_percentage</span></a><span> </span><span class="skolem"><span>prozent</span></span><span>
      </span><span class="main"><span>≤</span></span><span> </span><span>min</span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>e2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>*</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage.real_of_percentage|const"><span>real_of_percentage</span></a><span> </span><span class="skolem"><span>prozent</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.real_of_percentage_range|fact"><span>real_of_percentage_range</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>prozent</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>mult_mono'</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_2927..2931"><span>Cons.prems</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3656..3664">e1e2diff</span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>*</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage.real_of_percentage|const"><span>real_of_percentage</span></a><span> </span><span class="skolem"><span>prozent</span></span><span>
      </span><span class="main"><span>≤</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage.real_of_percentage|const"><span>real_of_percentage</span></a><span> </span><span class="skolem"><span>prozent</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>diff_ge_0_iff_ge</span><span> </span><span>mult.right_neutral</span><span> </span><span>mult_right_mono</span><span>
              </span><span>of_nat_le_iff</span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage_range|fact"><span>percentage_range</span></a><span> </span><span>right_diff_distrib'</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>-</span></span><span>
    </span><span class="main"><span>(</span></span><span>min</span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>*</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage.real_of_percentage|const"><span>real_of_percentage</span></a><span> </span><span class="skolem"><span>prozent</span></span><span> </span><span class="main"><span>+</span></span><span>
     </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="skolem"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>≤</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>-</span></span><span>
       </span><span class="main"><span>(</span></span><span>min</span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>e2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>*</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage.real_of_percentage|const"><span>real_of_percentage</span></a><span> </span><span class="skolem"><span>prozent</span></span><span> </span><span class="main"><span>+</span></span><span>
        </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="skolem"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="skolem"><span>zone</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_4209..4213">True</span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="skolem"><span>zone</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4250..4252">e1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>min</span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_4209..4213"><span>True</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="skolem"><span>zone</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_4250..4252"><span>e1</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="skolem"><span>zone</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_3656..3664"><span>e1e2diff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_4506..4511">False</span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_4506..4511"><span>False</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>zone</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="skolem"><span>e2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4548..4550">by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_4548..4550"><span>this</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>mehr</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_4592..4596">mehr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>zone</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>mehr</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>less_imp_add_positive</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4686..4696">e1zonediff</span><span class="main"><span>:</span></span><span>
         </span><span class="quoted"><span class="quoted"><span>"</span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>*</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage.real_of_percentage|const"><span>real_of_percentage</span></a><span> </span><span class="skolem"><span>prozent</span></span><span>
           </span><span class="main"><span>≤</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span> </span><span class="main"><span>*</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage.real_of_percentage|const"><span>real_of_percentage</span></a><span> </span><span class="skolem"><span>prozent</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>diff_ge_0_iff_ge</span><span> </span><a class="entity_ref" href="Steuern.html#offset_4250..4252"><span>e1</span></a><span> </span><span>min.bounded_iff</span><span>
              </span><span>mult.right_neutral</span><span> </span><span>mult_right_mono</span><span> </span><span>nle_le</span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage_range|fact"><span>percentage_range</span></a><span>
              </span><span>right_diff_distrib'</span><span class="main"><span>)</span></span><span>

        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5025..5042">zonensteuer_limit</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="skolem"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="skolem"><span>mehr</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="skolem"><span>mehr</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer_limit|fact"><span>zonensteuer_limit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_4506..4511"><span>False</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_4250..4252"><span>e1</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="skolem"><span>zone</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_4592..4596"><span>mehr</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer_zero|fact"><span>zonensteuer_zero</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_4686..4696"><span>e1zonediff</span></a><span> </span><a class="entity_ref" href="Steuern.html#offset_5025..5042"><span>zonensteuer_limit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>linarith</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_5398..5403">False</span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5415..5417">e1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>min</span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>e1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_5398..5403"><span>False</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5490..5492">e2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>min</span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>real</span><span> </span><span class="skolem"><span>e2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>real</span><span> </span><span class="skolem"><span>zone</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_5398..5403"><span>False</span></a><span> </span><a class="entity_ref" href="Steuern.html#offset_2927..2931"><span>Cons.prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_3260..3263"><span>IH'</span></a><span> </span><a class="entity_ref" href="Steuern.html#offset_5415..5417"><span>e1</span></a><span> </span><a class="entity_ref" href="Steuern.html#offset_5490..5492"><span>e2</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#offset_2966..2967"><span>z</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.steuerzonen2022_def|fact"><span class="entity_def" id="Steuern.steuerzonen2022_def|thm"><span class="entity_def" id="Steuern.steuerzonen2022_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Steuern.steuerzonen2022|const"><span>steuerzonen2022</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>×</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|type"><span>percentage</span></a><span class="main"><span>)</span></span><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>steuerzonen2022</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>[</span></span><span>
                       </span><span class="main"><span>(</span></span><span class="numeral"><span>10347</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|const"><span>percentage</span></a><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
                       </span><span class="main"><span>(</span></span><span class="numeral"><span>4579</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|const"><span>percentage</span></a><span> </span><span class="numeral"><span>0.14</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
                       </span><span class="main"><span>(</span></span><span class="numeral"><span>43670</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|const"><span>percentage</span></a><span> </span><span class="numeral"><span>0.2397</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
                       </span><span class="main"><span>(</span></span><span class="numeral"><span>219229</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|const"><span>percentage</span></a><span> </span><span class="numeral"><span>0.42</span></span><span class="main"><span>)</span></span><span>
                      </span><span class="main"><span>]</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.steuerzonenAbs.elims|fact"><span class="entity_def" id="Steuern.steuerzonenAbs.induct|fact"><span class="entity_def" id="Steuern.steuerzonenAbs.simps|fact"><span class="entity_def" id="Steuern.steuerzonenAbs.pelims|fact"><span class="entity_def" id="Steuern.steuerzonenAbs.cases|fact"><span class="entity_def" id="Steuern.steuerzonenAbs.termination|fact"><span class="entity_def" id="Steuern.steuerzonenAbs.pinduct|fact"><span class="entity_def" id="Steuern.steuerzonenAbs.psimps|fact"><span class="entity_def" id="Steuern.steuerzonenAbs_rel.inducts|fact"><span class="entity_def" id="Steuern.steuerzonenAbs_rel.simps|fact"><span class="entity_def" id="Steuern.steuerzonenAbs_rel.induct|fact"><span class="entity_def" id="Steuern.steuerzonenAbs_rel.cases|fact"><span class="entity_def" id="Steuern.steuerzonenAbs_rel.intros|fact"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.inducts|fact"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.simps|fact"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.induct|fact"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.cases|fact"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.intros|fact"><span class="entity_def" id="Steuern.steuerzonenAbs.elims|thm"><span class="entity_def" id="Steuern.steuerzonenAbs.induct|thm"><span class="entity_def" id="Steuern.steuerzonenAbs.simps(2)|thm"><span class="entity_def" id="Steuern.steuerzonenAbs.simps(1)|thm"><span class="entity_def" id="Steuern.steuerzonenAbs.pelims|thm"><span class="entity_def" id="Steuern.steuerzonenAbs.cases|thm"><span class="entity_def" id="Steuern.steuerzonenAbs.termination|thm"><span class="entity_def" id="Steuern.steuerzonenAbs.pinduct|thm"><span class="entity_def" id="Steuern.steuerzonenAbs.psimps(2)|thm"><span class="entity_def" id="Steuern.steuerzonenAbs.psimps(1)|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_rel.inducts|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_rel.simps|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_rel.induct|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_rel.cases|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_rel.intros|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.inducts|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.simps|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.induct|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.cases|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.intros(2)|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_graph.intros(1)|thm"><span class="entity_def" id="Steuern.steuerzonenAbs_def|axiom"><span class="entity_def" id="Steuern.steuerzonenAbs_rel_def|axiom"><span class="entity_def" id="Steuern.steuerzonenAbs_sumC_def|axiom"><span class="entity_def" id="Steuern.steuerzonenAbs_graph_def|axiom"><span class="entity_def" id="Steuern.steuerzonenAbs_dom|const"><span class="entity_def" id="Steuern.steuerzonenAbs_rel|const"><span class="entity_def" id="Steuern.steuerzonenAbs_sumC|const"><span class="entity_def" id="Steuern.steuerzonenAbs_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Steuern.steuerzonenAbs|const"><span>steuerzonenAbs</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>×</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|type"><span>percentage</span></a><span class="main"><span>)</span></span><span> </span><span>list</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>×</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|type"><span>percentage</span></a><span class="main"><span>)</span></span><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
   </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>steuerzonenAbs</span></span><span> </span><span class="main"><span>[]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span>
 </span><span class="main"><span>|</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>steuerzonenAbs</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>zone</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>prozent</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>#</span></span><span class="free"><span class="bound"><span class="entity"><span>zonen</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> 
      </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>zone</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>prozent</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>#</span></span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>zone</span></span></span></span><span class="main"><span>+</span></span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>steuerzonenAbs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>zonen</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.steuerbuckets2022_def|fact"><span class="entity_def" id="Steuern.steuerbuckets2022_def|thm"><span class="entity_def" id="Steuern.steuerbuckets2022_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Steuern.steuerbuckets2022|const"><span>steuerbuckets2022</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>×</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|type"><span>percentage</span></a><span class="main"><span>)</span></span><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>steuerbuckets2022</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>[</span></span><span>
                       </span><span class="main"><span>(</span></span><span class="numeral"><span>10347</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|const"><span>percentage</span></a><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
                       </span><span class="main"><span>(</span></span><span class="numeral"><span>14926</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|const"><span>percentage</span></a><span> </span><span class="numeral"><span>0.14</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
                       </span><span class="main"><span>(</span></span><span class="numeral"><span>58596</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|const"><span>percentage</span></a><span> </span><span class="numeral"><span>0.2397</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
                       </span><span class="main"><span>(</span></span><span class="numeral"><span>277825</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|const"><span>percentage</span></a><span> </span><span class="numeral"><span>0.42</span></span><span class="main"><span>)</span></span><span>
                      </span><span class="main"><span>]</span></span><span>"</span></span></span><span>
                       </span><span class="comment1"><span>(</span><span>*</span><span>(∞, 0.45)</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.steuerbuckets2022|fact"><span class="entity_def" id="Steuern.steuerbuckets2022|thm"><span>steuerbuckets2022</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.steuerbuckets2022|const"><span>steuerbuckets2022</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuerzonenAbs|const"><span>steuerzonenAbs</span></a><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuerzonen2022|const"><span>steuerzonen2022</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuerbuckets2022_def|fact"><span>steuerbuckets2022_def</span></a><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuerzonen2022_def|fact"><span>steuerzonen2022_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.wfSteuerbuckets.elims|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets.induct|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets.simps|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets.pelims|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets.cases|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets.termination|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets.pinduct|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets.psimps|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel.inducts|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel.simps|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel.induct|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel.cases|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel.intros|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.inducts|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.simps|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.induct|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.cases|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.intros|fact"><span class="entity_def" id="Steuern.wfSteuerbuckets.elims(3)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.elims(2)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.elims(1)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.induct|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.simps(3)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.simps(2)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.simps(1)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.pelims(3)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.pelims(2)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.pelims(1)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.cases|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.termination|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.pinduct|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.psimps(3)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.psimps(2)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets.psimps(1)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel.inducts|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel.simps|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel.induct|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel.cases|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel.intros|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.inducts|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.simps|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.induct|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.cases|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.intros(3)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.intros(2)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph.intros(1)|thm"><span class="entity_def" id="Steuern.wfSteuerbuckets_def|axiom"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel_def|axiom"><span class="entity_def" id="Steuern.wfSteuerbuckets_sumC_def|axiom"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph_def|axiom"><span class="entity_def" id="Steuern.wfSteuerbuckets_dom|const"><span class="entity_def" id="Steuern.wfSteuerbuckets_rel|const"><span class="entity_def" id="Steuern.wfSteuerbuckets_sumC|const"><span class="entity_def" id="Steuern.wfSteuerbuckets_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Steuern.wfSteuerbuckets|const"><span>wfSteuerbuckets</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>×</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|type"><span>percentage</span></a><span class="main"><span>)</span></span><span> </span><span>list</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>wfSteuerbuckets</span></span><span> </span><span class="main"><span>[]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>True</span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>wfSteuerbuckets</span></span><span> </span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>bs</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>True</span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>wfSteuerbuckets</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>b1</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p1</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>#</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>b2</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p2</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>#</span></span><span class="free"><span class="bound"><span class="entity"><span>bs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b1</span></span></span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b2</span></span></span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>wfSteuerbuckets</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>b2</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>p2</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>#</span></span><span class="free"><span class="bound"><span class="entity"><span>bs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>TODO; get rid of the map, just have spans! and derive those separators as a view ..</span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.bucketsteuerAbs.elims|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs.induct|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs.simps|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs.pelims|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs.cases|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs.termination|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs.pinduct|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs.psimps|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel.inducts|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel.simps|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel.induct|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel.cases|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel.intros|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.inducts|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.simps|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.induct|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.cases|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.intros|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs.elims|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs.induct|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs.simps(2)|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs.simps(1)|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs.pelims|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs.cases|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs.termination|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs.pinduct|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs.psimps(2)|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs.psimps(1)|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel.inducts|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel.simps|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel.induct|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel.cases|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel.intros|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.inducts|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.simps|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.induct|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.cases|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.intros(2)|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph.intros(1)|thm"><span class="entity_def" id="Steuern.bucketsteuerAbs_def|axiom"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel_def|axiom"><span class="entity_def" id="Steuern.bucketsteuerAbs_sumC_def|axiom"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph_def|axiom"><span class="entity_def" id="Steuern.bucketsteuerAbs_dom|const"><span class="entity_def" id="Steuern.bucketsteuerAbs_rel|const"><span class="entity_def" id="Steuern.bucketsteuerAbs_sumC|const"><span class="entity_def" id="Steuern.bucketsteuerAbs_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Steuern.bucketsteuerAbs|const"><span>bucketsteuerAbs</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>×</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|type"><span>percentage</span></a><span class="main"><span>)</span></span><span> </span><span>list</span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Percentage.html#Percentage.percentage|type"><span>percentage</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>real</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
   </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bucketsteuerAbs</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>bis</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>prozent</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>#</span></span><span class="free"><span class="bound"><span class="entity"><span>mehr</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spitzensteuer</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="main"><span>=</span></span><span>
        </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>min</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bis</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>prozent</span></span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>bucketsteuerAbs</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>-</span></span><span class="free"><span class="bound"><span class="entity"><span>bis</span></span></span></span><span class="main"><span>,</span></span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>mehr</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spitzensteuer</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bis</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bucketsteuerAbs</span></span><span> </span><span class="main"><span>[]</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spitzensteuer</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span class="main"><span>*</span></span><span class="free"><span class="bound"><span class="entity"><span>spitzensteuer</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.wfSteuerbucketsConsD|fact"><span class="entity_def" id="Steuern.wfSteuerbucketsConsD|thm"><span>wfSteuerbucketsConsD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbuckets|const"><span>wfSteuerbuckets</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span class="main"><span>#</span></span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbuckets|const"><span>wfSteuerbuckets</span></a><span> </span><span class="free"><span>zs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>case_tac</span></span><span> </span><span class="quoted"><span class="free"><span>z</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbuckets.elims|fact"><span>wfSteuerbuckets.elims</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.wfSteuerbucketsMapD|fact"><span class="entity_def" id="Steuern.wfSteuerbucketsMapD|thm"><span>wfSteuerbucketsMapD</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbuckets|const"><span>wfSteuerbuckets</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>zone</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>  </span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbuckets|const"><span>wfSteuerbuckets</span></a><span> </span><span class="free"><span>zs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>zs</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>rename_tac</span></span><span> z zs</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>case_tac</span></span><span> </span><span class="quoted"><span class="improper"><span>z</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>case_tac</span></span><span> </span><span class="quoted"><span class="improper"><span>zs</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.mapHelp1|fact"><span class="entity_def" id="Steuern.mapHelp1|thm"><span>mapHelp1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbuckets|const"><span>wfSteuerbuckets</span></a><span> </span><span class="free"><span>zs</span></span><span> </span><span class="main"><span>⟹</span></span><span>
       </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∘</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>zs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>zs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>zs</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>rename_tac</span></span><span> z zs</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>case_tac</span></span><span> </span><span class="quoted"><span class="improper"><span>z</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rename_tac</span></span><span> zone prozent</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbucketsConsD|fact"><span>wfSteuerbucketsConsD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.bucketsteuerAbs_zonensteuer|fact"><span class="entity_def" id="Steuern.bucketsteuerAbs_zonensteuer|thm"><span>bucketsteuerAbs_zonensteuer</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbuckets|const"><span>wfSteuerbuckets</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Steuern.html#Steuern.steuerzonenAbs|const"><span>steuerzonenAbs</span></a><span> </span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
       </span><a class="entity_ref" href="Steuern.html#Steuern.bucketsteuerAbs|const"><span>bucketsteuerAbs</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Steuern.html#Steuern.steuerzonenAbs|const"><span>steuerzonenAbs</span></a><span> </span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="free"><span>e</span></span><span>
       </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><span class="free"><span>zs</span></span><span> </span><span class="free"><span>spitzensteuer</span></span><span> </span><span class="free"><span>e</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>zs</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span class="quoted"><span class="free"><span>e</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>rename_tac</span></span><span> z zs e</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>case_tac</span></span><span> </span><span class="quoted"><span class="improper"><span>z</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rename_tac</span></span><span> zone prozent</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbuckets|const"><span>wfSteuerbuckets</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Steuern.html#Steuern.steuerzonenAbs|const"><span>steuerzonenAbs</span></a><span> </span><span class="improper"><span>zs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>subst</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.mapHelp1|fact"><span>mapHelp1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbucketsConsD|fact"><span>wfSteuerbucketsConsD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.wfSteuerbucketsMapD|fact"><span>wfSteuerbucketsMapD</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.floor_def|fact"><span class="entity_def" id="Steuern.floor_def|thm"><span class="entity_def" id="Steuern.floor_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Steuern.floor|const"><span>floor</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>real</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>floor</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>⌊</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>⌋</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.floorD|fact"><span class="entity_def" id="Steuern.floorD|thm"><span>floorD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.floor|const"><span>floor</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.floor|const"><span>floor</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.floor_def|fact"><span>floor_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>linarith</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.floor_minusD|fact"><span class="entity_def" id="Steuern.floor_minusD|thm"><span>floor_minusD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span>nat</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span>real</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>-</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.floor|const"><span>floor</span></a><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>-</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.floor|const"><span>floor</span></a><span> </span><span class="free"><span>b'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.floor_def|fact"><span>floor_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_SIG</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>diff_is_0_eq</span><span> </span><span>le_floor_iff</span><span> </span><span>nat_0_iff</span><span>
        </span><span>nat_le_real_less</span><span> </span><span>of_int_1</span><span> </span><span>of_nat_diff</span><span> </span><span>of_nat_nat</span><span> </span><span>real_of_int_floor_gt_diff_one</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.einkommenssteuer_def|fact"><span class="entity_def" id="Steuern.einkommenssteuer_def|thm"><span class="entity_def" id="Steuern.einkommenssteuer_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>nat</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>einkommenssteuer</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>einkommen</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
    </span><a class="entity_ref" href="Steuern.html#Steuern.floor|const"><span>floor</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Steuern.html#Steuern.bucketsteuerAbs|const"><span>bucketsteuerAbs</span></a><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuerbuckets2022|const"><span>steuerbuckets2022</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Percentage.html#Percentage.percentage|const"><span>percentage</span></a><span>  </span><span class="numeral"><span>0.45</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>einkommen</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="numeral"><span>10</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>eval</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="numeral"><span>10000</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>eval</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="numeral"><span>14000</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.floor|const"><span>floor</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="numeral"><span>14000</span></span><span class="main"><span>-</span></span><span class="numeral"><span>10347</span></span><span class="main"><span>)</span></span><span class="main"><span>*</span></span><span class="numeral"><span>0.14</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>eval</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="numeral"><span>20000</span></span><span> </span><span class="main"><span>=</span></span><span>
        </span><a class="entity_ref" href="Steuern.html#Steuern.floor|const"><span>floor</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="numeral"><span>14926</span></span><span class="main"><span>-</span></span><span class="numeral"><span>10347</span></span><span class="main"><span>)</span></span><span class="main"><span>*</span></span><span class="numeral"><span>0.14</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>20000</span></span><span class="main"><span>-</span></span><span class="numeral"><span>14926</span></span><span class="main"><span>)</span></span><span class="main"><span>*</span></span><span class="numeral"><span>0.2397</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>eval</span></span><span>
</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="numeral"><span>40000</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="numeral"><span>60000</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Steuern.einkommenssteuer|fact"><span class="entity_def" id="Steuern.einkommenssteuer|thm"><span>einkommenssteuer</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="free"><span>einkommen</span></span><span> </span><span class="main"><span>=</span></span><span>
    </span><a class="entity_ref" href="Steuern.html#Steuern.floor|const"><span>floor</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer|const"><span>zonensteuer</span></a><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuerzonen2022|const"><span>steuerzonen2022</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Percentage.html#Percentage.percentage|const"><span>percentage</span></a><span> </span><span class="numeral"><span>0.45</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>einkommen</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer_def|fact"><span>einkommenssteuer_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuerbuckets2022|fact"><span>steuerbuckets2022</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>subst</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.bucketsteuerAbs_zonensteuer|fact"><span>bucketsteuerAbs_zonensteuer</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuerzonen2022_def|fact"><span>steuerzonen2022_def</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Steuern.leistung_lohnt_sich|fact"><span class="entity_def" id="Steuern.wer_hat_der_gibt|fact"><span class="entity_def" id="Steuern.steuersystem_axioms|fact"><span class="entity_def" id="Steuern.netto_def|fact"><span class="entity_def" id="Steuern.brutto_def|fact"><span class="entity_def" id="Steuern.leistung_lohnt_sich|thm"><span class="entity_def" id="Steuern.wer_hat_der_gibt|thm"><span class="entity_def" id="Steuern.netto_def|thm"><span class="entity_def" id="Steuern.brutto_def|thm"><span class="entity_def" id="Steuern.steuersystem_axioms|thm"><span class="entity_def" id="Steuern.netto|const"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuersystem|locale"><span>steuersystem</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> steuer </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>einkommen_a</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span>einkommen_b</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>einkommen_a</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="skolem"><span>einkommen_b</span></span><span>
        </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="skolem"><span>einkommen_a</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="skolem"><span>einkommen_b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|fact"><span>einkommenssteuer</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.floorD|fact"><span>floorD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuermono|fact"><span>zonensteuermono</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>einkommen_a</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span>einkommen_b</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>einkommen_b</span></span><span> </span><span class="main"><span>≤</span></span><span> </span><span class="skolem"><span>einkommen_a</span></span><span> </span><span class="main"><span>⟹</span></span><span>
       </span><a class="entity_ref" href="Steuern.html#Steuern.steuer_defs.netto|const"><span>steuer_defs.netto</span></a><span> </span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="skolem"><span>einkommen_b</span></span><span>
       </span><span class="main"><span>≤</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuer_defs.netto|const"><span>steuer_defs.netto</span></a><span> </span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|const"><span>einkommenssteuer</span></a><span> </span><span class="skolem"><span>einkommen_a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.einkommenssteuer|fact"><span>einkommenssteuer</span></a><span> </span><a class="entity_ref" href="Steuern.html#Steuern.steuer_defs.netto_def|fact"><span>steuer_defs.netto_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.floor_minusD|fact"><span>floor_minusD</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.floor_minusD|fact"><span>floor_minusD</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Steuern.html#Steuern.zonensteuer_leistung_lohnt_sich|fact"><span>zonensteuer_leistung_lohnt_sich</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>